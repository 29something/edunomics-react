{"ast":null,"code":"import _defineProperty from \"/Users/chitranshagnihotri/Desktop/work/code/freelancer_react/Edunomics1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/chitranshagnihotri/Desktop/work/code/freelancer_react/Edunomics1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chitranshagnihotri/Desktop/work/code/freelancer_react/Edunomics1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chitranshagnihotri/Desktop/work/code/freelancer_react/Edunomics1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chitranshagnihotri/Desktop/work/code/freelancer_react/Edunomics1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chitranshagnihotri/Desktop/work/code/freelancer_react/Edunomics1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/chitranshagnihotri/Desktop/work/code/freelancer_react/Edunomics1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/chitranshagnihotri/Desktop/work/code/freelancer_react/Edunomics1/src/components/EmployeAllocation/EmployeAllocation.js\";\nimport React, { Component } from 'react';\nimport './EmployeAllocation.css';\nimport { Link, withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport authService from '../../services/auth-service';\nimport axiosService from '../../services/axios-service';\nimport { API_URL } from '../../services/url';\n\nvar EmployeAllocation =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EmployeAllocation, _Component);\n\n  function EmployeAllocation() {\n    var _this;\n\n    _classCallCheck(this, EmployeAllocation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EmployeAllocation).call(this));\n\n    _this.locationclick = function (e) {\n      e.preventDefault();\n      console.log(_this.state);\n      var sitemeet = _this.state.zone_id;\n      console.log(_this.state.zone_id);\n      axios.get(\"\".concat(API_URL, \"list/locationonzone?zone_id=\") + sitemeet, _this.state, axios.defaults.headers.common['authorization'] = 'Bearer ' + authService.getToken()) //   .then(console.log(this.state));\n      .then(function (response) {\n        console.log(response); // console.log(response.data.admindata);\n\n        var data = response.data.locationdata;\n\n        _this.setState({\n          locationdatalist: data\n        });\n      }).catch(function (error) {\n        console.log(error.response);\n      }); //   e.preventDefault();\n      //   console.log('hi');\n      //   // console.log(this.state.customer_id);\n      //   // this.setState ({\n      //   //     customer_id: e.target.value\n      //   // //  customer_id : \"\"\n      //   // })\n      //   console.log('hi');\n      //   console.log(this.state.zone_id);\n      //   // console.log(this.state.value);\n      //   const sitemeet = this.state.zone_id;\n      //    fetch('list/locationonzone?zone_id='+sitemeet,{\n      //     method : 'GET',\n      //     headers : {\n      //       'Authorization': 'Bearer ' + this.state.token,\n      //       \"Content-Type\" : \"application/json\"\n      //   }\n      //   })\n      //   .then((res) => {\n      //     res.json().then((response) => { \n      //       console.log(response.locationdata)\n      //       this.setState({ locationdatalist:response.locationdata})\n      //       // this.parseJSON(this.state)\n      //     })\n      //   }\n      // )\n    };\n\n    _this.change = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.getWebsite = function () {\n      fetch('/').then(console.log(_this.state));\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      console.log(_this.state);\n      axios.post(\"\".concat(API_URL, \"emp_loc/add\"), _this.state, axios.defaults.headers.common['authorization'] = 'Bearer ' + authService.getToken()) //   .then(console.log(this.state));\n      .then(function (response) {\n        console.log(response);\n\n        if (response.data.success) {\n          alert(response.data.msg);\n          this.props.history.push('/ViewEmployeAllocation');\n        } else {\n          alert(response.data.msg);\n        }\n      }.bind(_assertThisInitialized(_assertThisInitialized(_this)))).catch(function (error) {\n        console.log(error.response);\n      }); //       e.preventDefault();\n      //       console.log(this.state);\n      //       // console.log(this.response.json);\n      //       // if(json.success === true)\n      //       // {\n      //       // this.setState ({\n      //       //     supervisor_id:\"\",\n      //       //     location_id :\"\",\n      //       //     zone_id : \"\"\n      //       //   // location : \"\"\n      //       // })\n      //     // }\n      //       fetch(`/emp_loc/add`,{\n      //         method : \"POST\",\n      //         headers : {\n      //           'Authorization': 'Bearer ' + this.state.token,\n      //             \"Content-Type\" : \"application/json\"\n      //         },\n      //         body: JSON.stringify(this.state)\n      //       })\n      //     //   .then(console.log(this.state));\n      //     .then(function(response){ \n      //         return response.json();})\n      //     .then(function(json){\n      //          if(json.success===true){\n      //         //   console.log(json);\n      //         alert(\"your data has been submitted\");\n      //         this.props.history.push('/ViewEmployeAllocation')\n      //     }\n      //     else{\n      //       alert(json.msg);\n      //       // console.log(json);\n      //   }\n      // }.bind(this))\n    };\n\n    _this.state = {\n      employe_id: \"\",\n      location_id: \"\",\n      zone_id: \"\",\n      userdata: [],\n      locationdatalist: [],\n      supervisorlist: []\n    };\n    return _this;\n  }\n\n  _createClass(EmployeAllocation, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.handleClick(); //   this.supervisorclick();\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      var _this2 = this;\n\n      axios.get(\"\".concat(API_URL, \"list/zonelist\"), axios.defaults.headers.common['authorization'] = 'Bearer ' + authService.getToken()).then(function (response) {\n        console.log(response); // console.log(response.data.admindata);\n\n        var data = response.data.zonedata;\n\n        _this2.setState({\n          userdata: data\n        });\n      }).catch(function (error) {\n        console.log(error.response);\n      });\n      axios.get(\"\".concat(API_URL, \"list/supervisorlist\"), axios.defaults.headers.common['authorization'] = 'Bearer ' + authService.getToken()).then(function (response) {\n        console.log(response); // console.log(response.data.admindata);\n\n        var data = response.data.supervisordata;\n\n        if (response.data.success) {\n          _this2.setState({\n            supervisorlist: data\n          });\n        }\n      }).catch(function (error) {\n        console.log(error.response);\n      });\n    } //   supervisorclick()\n    //   {\n    //     fetch('list/supervisorlist')\n    //     .then((res) => {\n    //       res.json().then((response) => { \n    //         console.log(response.supervisordata)\n    //         this.setState({ supervisorsdata:response.supervisordata})\n    //         // this.parseJSON(this.state)\n    //       })\n    //     }\n    //   )\n    //   }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"skin-blue fixed-layout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row page-titles\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-5 align-self-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        \"aria-label\": \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"ol\", {\n        class: \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"breadcrumb-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: process.env.PUBLIC_URL + '/',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Home\")), React.createElement(\"li\", {\n        className: \"breadcrumb-item active\",\n        \"aria-current\": \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Employe Allocation Form\")))))), React.createElement(\"div\", {\n        className: \"product-form-upper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"below-custom-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Add Employe Allocation\"))), React.createElement(\"form\", {\n        className: \"custom-content-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"hidden\",\n        className: \"form-control\",\n        name: \"cid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"form-group col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"inputSubcategory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"Enter Zone*\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        value: this.state.zone_id,\n        name: \"zone_id\",\n        onClick: function onClick(e) {\n          return _this3.locationclick(e);\n        },\n        onChange: function onChange(e) {\n          return _this3.setState({\n            zone_id: e.target.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Choose....\"), this.state.userdata ? this.state.userdata.map(function (item, id) {\n        return React.createElement(\"option\", {\n          key: id,\n          value: item.zone_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, item.zone);\n      }) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \"Data is loading....\"))), React.createElement(\"div\", {\n        className: \"form-group col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"location\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"Enter Location\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        name: \"location_id\",\n        value: this.state.location_id,\n        onChange: function onChange(e) {\n          return _this3.setState({\n            location_id: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \"All Location\"), this.state.locationdatalist ? this.state.locationdatalist.map(function (item, id) {\n        return React.createElement(\"option\", {\n          key: id,\n          value: item.location_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        }, item.location_name);\n      }) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \"Data is loading....\"))), React.createElement(\"div\", {\n        class: \"form-group col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"inputSubcategory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Enter Supervisor And Alias*\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        value: this.state.employe_id,\n        name: \"employe_id\",\n        onChange: function onChange(e) {\n          return _this3.change(e);\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"Choose....\"), this.state.supervisorlist ? this.state.supervisorlist.map(function (item, id) {\n        return React.createElement(\"option\", {\n          key: id,\n          value: item.supervisor_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, item.supervisor);\n      }) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, \"Data is loading....\")))), React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"* This Fields Are Mendatory . \"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        class: \"btn btn-primary\",\n        onClick: function onClick(e) {\n          return _this3.onSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"Submit\")))))));\n    }\n  }]);\n\n  return EmployeAllocation;\n}(Component);\n\nexport default withRouter(EmployeAllocation);","map":{"version":3,"sources":["/Users/chitranshagnihotri/Desktop/work/code/freelancer_react/Edunomics1/src/components/EmployeAllocation/EmployeAllocation.js"],"names":["React","Component","Link","withRouter","axios","authService","axiosService","API_URL","EmployeAllocation","locationclick","e","preventDefault","console","log","state","sitemeet","zone_id","get","defaults","headers","common","getToken","then","response","data","locationdata","setState","locationdatalist","catch","error","change","target","name","value","getWebsite","fetch","onSubmit","post","success","alert","msg","props","history","push","bind","employe_id","location_id","userdata","supervisorlist","handleClick","zonedata","supervisordata","process","env","PUBLIC_URL","map","item","id","zone","location_name","supervisor_id","supervisor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './EmployeAllocation.css';\nimport {Link, withRouter} from 'react-router-dom';\nimport axios from 'axios';\nimport authService from '../../services/auth-service';\nimport axiosService from '../../services/axios-service';\nimport { API_URL } from '../../services/url';\nclass EmployeAllocation extends Component {\n    constructor () {\n        super() \n        this.state = {\n          employe_id:\"\",\n          location_id : \"\",\n          zone_id : \"\",\n          userdata : [],\n          locationdatalist : [],\n          supervisorlist : []\n        }\n    }\n    \n    componentWillMount ()\n    {\n      this.handleClick();\n    //   this.supervisorclick();\n    }\n    \n    locationclick = e =>  \n    {\n      e.preventDefault();\n      console.log(this.state);\n      const sitemeet = this.state.zone_id;\n      console.log(this.state.zone_id);\n      axios.get(`${API_URL}list/locationonzone?zone_id=`+sitemeet, this.state,axios.defaults.headers.common['authorization'] = 'Bearer ' +\tauthService.getToken())\n      //   .then(console.log(this.state));\n      .then(response => {\n        console.log(response)\n            // console.log(response.data.admindata);\n            const data = response.data.locationdata;\n            this.setState({ locationdatalist : data })\n            }) \n            .catch(error => {\n            console.log(error.response);\n            })\n    //   e.preventDefault();\n    //   console.log('hi');\n    //   // console.log(this.state.customer_id);\n    //   // this.setState ({\n        \n    //   //     customer_id: e.target.value\n     \n    //   // //  customer_id : \"\"\n    //   // })\n    //   console.log('hi');\n    //   console.log(this.state.zone_id);\n    //   // console.log(this.state.value);\n    //   const sitemeet = this.state.zone_id;\n    //    fetch('list/locationonzone?zone_id='+sitemeet,{\n    //     method : 'GET',\n    //     headers : {\n    //       'Authorization': 'Bearer ' + this.state.token,\n    //       \"Content-Type\" : \"application/json\"\n    //   }\n    //   })\n    //   .then((res) => {\n    //     res.json().then((response) => { \n    //       console.log(response.locationdata)\n    //       this.setState({ locationdatalist:response.locationdata})\n    //       // this.parseJSON(this.state)\n    //     })\n    //   }\n    // )\n\n    }\n    handleClick () {\n      axios.get(`${API_URL}list/zonelist`,axios.defaults.headers.common['authorization'] = 'Bearer ' +\tauthService.getToken())\n      .then(response => {\n          console.log(response)\n              // console.log(response.data.admindata);\n              const data = response.data.zonedata;\n              this.setState({ userdata : data })\n              }) \n              .catch(error => {\n              console.log(error.response);\n              })\n\n              axios.get(`${API_URL}list/supervisorlist`,axios.defaults.headers.common['authorization'] = 'Bearer ' +\tauthService.getToken())\n      .then(response => {\n          console.log(response)\n              // console.log(response.data.admindata);\n              const data = response.data.supervisordata;\n              if(response.data.success)\n              {\n              this.setState({ supervisorlist : data })\n              }\n              }) \n              .catch(error => {\n              console.log(error.response);\n              })\n      }\n    //   supervisorclick()\n    //   {\n    //     fetch('list/supervisorlist')\n    //     .then((res) => {\n    //       res.json().then((response) => { \n    //         console.log(response.supervisordata)\n    //         this.setState({ supervisorsdata:response.supervisordata})\n    //         // this.parseJSON(this.state)\n    //       })\n    //     }\n    //   )\n    //   }\n\n      \n      change  = e => {\n        this.setState ({\n          [e.target.name]: e.target.value\n        });\n      };\n      getWebsite = () =>\n      {\n          fetch('/').then(console.log(this.state));\n      }\n      onSubmit = e =>\n      {\n        e.preventDefault();\n        console.log(this.state);\n        axios.post(`${API_URL}emp_loc/add`, this.state,axios.defaults.headers.common['authorization'] = 'Bearer ' +\tauthService.getToken())\n        //   .then(console.log(this.state));\n      .then(function(response){ \n         console.log(response);\n         if(response.data.success)\n         {\n           alert(response.data.msg)\n        this.props.history.push('/ViewEmployeAllocation')\n         }\n         else\n         {\n           alert(response.data.msg)\n         }\n      }.bind(this))\n      .catch(error => {\n          console.log(error.response);\n        })\n    //       e.preventDefault();\n    //       console.log(this.state);\n    //       // console.log(this.response.json);\n    //       // if(json.success === true)\n    //       // {\n    //       // this.setState ({\n    //       //     supervisor_id:\"\",\n    //       //     location_id :\"\",\n    //       //     zone_id : \"\"\n    //       //   // location : \"\"\n    //       // })\n    //     // }\n    //       fetch(`/emp_loc/add`,{\n\n    //         method : \"POST\",\n    //         headers : {\n    //           'Authorization': 'Bearer ' + this.state.token,\n    //             \"Content-Type\" : \"application/json\"\n    //         },\n    //         body: JSON.stringify(this.state)\n    //       })\n    //     //   .then(console.log(this.state));\n    //     .then(function(response){ \n    //         return response.json();})\n    //     .then(function(json){\n    //          if(json.success===true){\n    //         //   console.log(json);\n          \n    //         alert(\"your data has been submitted\");\n    //         this.props.history.push('/ViewEmployeAllocation')\n    //     }\n    //     else{\n    //       alert(json.msg);\n    //       // console.log(json);\n    //   }\n    // }.bind(this))\n}\n   \n  render() {\n    return (\n        <div className=\"skin-blue fixed-layout\">\n        <div className=\"page-wrapper\">\n\n             <div className=\"container-fluid\">\n               \n               <div className=\"row page-titles\">\n                   <div className=\"col-md-5 align-self-center\">\n                       {/* <h4 className=\"text-themecolor\">Forms</h4> */}\n                       <nav aria-label=\"breadcrumb\">\n                            <ol class=\"breadcrumb\">\n                                <li className=\"breadcrumb-item\"><Link to={process.env.PUBLIC_URL +'/'}>Home</Link></li>\n                                <li className=\"breadcrumb-item active\" aria-current=\"page\">Employe Allocation Form</li>\n                            </ol>\n                            </nav>\n                   </div>\n                  \n               </div>\n\n\n            </div>\n\n    {/*Form content begin */}\n   \n<div className = \"product-form-upper\">\n    <div className = \"container\">\n    <div className = \"below-custom-form\">\n        <div className = \"row\">\n           <div className = \"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                   <h3>Add Employe Allocation</h3>\n           </div>\n        </div>\n        <form className=\"custom-content-form\">\n  <div class=\"form-row\">\n  <input type=\"hidden\" className=\"form-control\" name=\"cid\" />\n  <div class=\"form-group col-md-6\">\n    <label for=\"inputSubcategory\">Enter Zone*</label>\n    <select className=\"form-control\" value={this.state.zone_id} name=\"zone_id\" onClick={e => this.locationclick(e)} onChange={(e) => this.setState({zone_id: e.target.value})} required>\n   <option>Choose....</option>\n    {\n              this.state.userdata ?\n              this.state.userdata.map(function(item, id) {\n                return(\n                    \n        <option key ={id} value={item.zone_id}>{item.zone}</option>\n      )\n              }\n      )\n              :\n              <span>Data is loading....</span>\n            }\n\n    </select>\n    </div>\n            <div className=\"form-group col-md-6\">\n              <label htmlFor=\"location\">Enter Location</label>\n              <select className=\"form-control\" name=\"location_id\" value={this.state.location_id}  onChange={(e) => this.setState({location_id: e.target.value})}>\n            <option>All Location</option>\n    {\n              this.state.locationdatalist ?\n              this.state.locationdatalist.map(function(item, id) {\n                return(\n                    \n        <option key ={id} value={item.location_id}>{item.location_name}</option>\n      )\n              }\n      )\n              :\n              <span>Data is loading....</span>\n            }\n\n    </select>\n            </div>\n    <div class=\"form-group col-md-6\">\n    <label for=\"inputSubcategory\">Enter Supervisor And Alias*</label>\n    <select className=\"form-control\" value={this.state.employe_id} name=\"employe_id\" onChange = {e => this.change(e)} required>\n    <option>Choose....</option>\n    {\n              this.state. supervisorlist ?\n              this.state. supervisorlist.map(function(item, id) {\n                return(\n                    \n        <option key ={id} value={item.supervisor_id}>{item.supervisor}</option>\n      )\n              }\n      )\n              :\n              <span>Data is loading....</span>\n            }\n\n    </select>\n    </div>\n  </div>\n  <small>* This Fields Are Mendatory . </small>\n  <br/>\n  <button class=\"btn btn-primary\" onClick = {e => this.onSubmit(e)}>Submit</button>\n</form>\n    </div>\n    </div>\n</div>\n\n\n\n\n\n\n        </div>\n        </div>\n\n    )\n  }\n}\n\nexport default withRouter(EmployeAllocation)"]},"metadata":{},"sourceType":"module"}
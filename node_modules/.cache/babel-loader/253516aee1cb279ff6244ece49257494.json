{"ast":null,"code":"import _regeneratorRuntime from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/src/components/Zone/ViewZone.js\";\nimport React, { Component } from \"react\";\nimport \"./Zone.css\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport authService from \"../../services/auth-service\";\nimport axiosService from \"../../services/axios-service\";\n\nvar ViewZone =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ViewZone, _Component);\n\n  function ViewZone() {\n    var _this;\n\n    _classCallCheck(this, ViewZone);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewZone).call(this));\n    _this.state = {\n      userdata: [],\n      detailsdata: []\n    };\n    _this.handleCheck = _this.handleCheck.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.detailCheck = _this.detailCheck.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ViewZone, [{\n    key: \"handleCheck\",\n    value: function handleCheck(item) {\n      console.log(item.zone_id);\n      var sitemeet = item.zone_id;\n      fetch(\"zone/delete?id=\".concat(sitemeet), {\n        method: \"GET\",\n        headers: {\n          //  'Authorization': 'Bearer ' + this.state.token,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        if (json.success === true) {\n          //   console.log(json);\n          alert(\"Zone has been deleted PLEASE REFRESH THE PAGE\"); //window.location.reload()\n\n          this.handleClick();\n        } else {\n          console.log(json);\n        }\n      });\n    }\n  }, {\n    key: \"detailCheck\",\n    value: function detailCheck(item) {\n      var _this2 = this;\n\n      // console.log(item.admin_id);\n      var sitemeet = item.zone_id;\n      fetch(\"zone/detail?id=\".concat(sitemeet), {\n        method: \"GET\",\n        headers: {\n          //  'Authorization': 'Bearer ' + this.state.token,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (res) {\n        res.json().then(function (response) {\n          console.log(response.zonedata);\n\n          _this2.setState({\n            detailsdata: response.zonedata\n          }); // this.parseJSON(this.state)\n\n        });\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.handleClick();\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"handleClick\",\n    value: function () {\n      var _handleClick = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                try {\n                  response = axios.get(\"region/view\", axios.defaults.headers.common[\"authorization\"] = \"Bearer \" + authService.getToken());\n                  console.log(response); // this.setState({ userdata:response.plantdata})\n                  // this.parseJSON(this.state)\n                } catch (error) {\n                  console.log(error);\n                }\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function handleClick() {\n        return _handleClick.apply(this, arguments);\n      }\n\n      return handleClick;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"skin-blue fixed-layout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row page-titles\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-5 align-self-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        \"aria-label\": \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"ol\", {\n        class: \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"breadcrumb-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: process.env.PUBLIC_URL + \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Home\")), React.createElement(\"li\", {\n        className: \"breadcrumb-item active\",\n        \"aria-current\": \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"View Zone\")))))), React.createElement(\"div\", {\n        className: \"custom-table-here\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-hover table-bordered \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"bg-info custom-thead-color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Zone Name\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Pin\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, this.state.userdata ? this.state.userdata.map(function (item, id) {\n        return React.createElement(\"tr\", {\n          key: id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, item.zone_name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, item.pin));\n      }, this) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Data is loading....\"))), React.createElement(\"div\", {\n        class: \"modal fade bd-example-modal-lg\",\n        tabindex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"myLargeModalLabel\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"modal-dialog modal-lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-hover table-bordered \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"bg-info custom-thead-color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Pin\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, this.state.detailsdata ? this.state.detailsdata.map(function (item, id) {\n        return React.createElement(\"tr\", {\n          key: id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, \" \", item.zone_name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, item.pin));\n      }, this) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Data is loading....\"))), React.createElement(\"div\", {\n        class: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        class: \"btn btn-secondary\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Close\")))))))))))));\n    }\n  }]);\n\n  return ViewZone;\n}(Component);\n\nexport default ViewZone;","map":{"version":3,"sources":["/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/src/components/Zone/ViewZone.js"],"names":["React","Component","Link","axios","authService","axiosService","ViewZone","state","userdata","detailsdata","handleCheck","bind","detailCheck","item","console","log","zone_id","sitemeet","fetch","method","headers","then","response","json","success","alert","handleClick","res","zonedata","setState","get","defaults","common","getToken","error","process","env","PUBLIC_URL","map","id","zone_name","pin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Zone.css\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport authService from \"../../services/auth-service\";\nimport axiosService from \"../../services/axios-service\";\n\nclass ViewZone extends Component {\n  constructor() {\n    super();\n    this.state = {\n      userdata: [],\n      detailsdata: []\n    };\n    this.handleCheck = this.handleCheck.bind(this);\n    this.detailCheck = this.detailCheck.bind(this);\n  }\n  handleCheck(item) {\n    console.log(item.zone_id);\n    let sitemeet = item.zone_id;\n    fetch(`zone/delete?id=${sitemeet}`, {\n      method: \"GET\",\n      headers: {\n        //  'Authorization': 'Bearer ' + this.state.token,\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(function(response) {\n        return response.json();\n      })\n      .then(function(json) {\n        if (json.success === true) {\n          //   console.log(json);\n          alert(\"Zone has been deleted PLEASE REFRESH THE PAGE\");\n          //window.location.reload()\n          this.handleClick();\n        } else {\n          console.log(json);\n        }\n      });\n  }\n  detailCheck(item) {\n    // console.log(item.admin_id);\n    let sitemeet = item.zone_id;\n    fetch(`zone/detail?id=${sitemeet}`, {\n      method: \"GET\",\n      headers: {\n        //  'Authorization': 'Bearer ' + this.state.token,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      res.json().then(response => {\n        console.log(response.zonedata);\n        this.setState({ detailsdata: response.zonedata });\n        // this.parseJSON(this.state)\n      });\n    });\n  }\n\n  async componentWillMount() {\n    await this.handleClick();\n  }\n  async handleClick() {\n    try {\n      const response = axios.get(\n        \"region/view\",\n        (axios.defaults.headers.common[\"authorization\"] =\n          \"Bearer \" + authService.getToken())\n      );\n      console.log(response);\n\n      // this.setState({ userdata:response.plantdata})\n      // this.parseJSON(this.state)\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  render() {\n    return (\n      <React.Fragment>\n        <div>\n          <div className=\"skin-blue fixed-layout\">\n            <div className=\"page-wrapper\">\n              <div className=\"container-fluid\">\n                <div className=\"row page-titles\">\n                  <div className=\"col-md-5 align-self-center\">\n                    {/* <h4 className=\"text-themecolor\">Forms</h4> */}\n                    <nav aria-label=\"breadcrumb\">\n                      <ol class=\"breadcrumb\">\n                        <li className=\"breadcrumb-item\">\n                          <Link to={process.env.PUBLIC_URL + \"/\"}>Home</Link>\n                        </li>\n                        <li\n                          className=\"breadcrumb-item active\"\n                          aria-current=\"page\"\n                        >\n                          View Zone\n                        </li>\n                      </ol>\n                    </nav>\n                  </div>\n                </div>\n              </div>\n              <div className=\"custom-table-here\">\n                <div className=\"container\">\n                  <div className=\"row\">\n                    <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n                      <table className=\"table table-hover table-bordered \">\n                        <thead className=\"bg-info custom-thead-color\">\n                          <tr>\n                            <th scope=\"col\">Zone Name</th>\n                            <th scope=\"col\">Pin</th>\n                            {/* <th scope=\"col\">Action</th> */}\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {this.state.userdata ? (\n                            this.state.userdata.map(function(item, id) {\n                              return (\n                                <tr key={id}>\n                                  <th scope=\"row\">{item.zone_name}</th>\n                                  <td>{item.pin}</td>\n                                  {/* <td>\n          <Link to ={process.env.PUBLIC_URL +`/EditZone/${item.zone_id}`}><button className=\"btn btn-warning custom-edit-btn btn-sm\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>&nbsp; &nbsp; Edit</button></Link>\n          <button  className=\"btn btn-danger custom-edit-btn btn-sm\" onClick={this.handleCheck.bind(this, item)}><i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i>&nbsp;&nbsp;Delete</button>\n          <button className=\"btn btn-success custom-edit-btn btn-sm\" onClick={this.detailCheck.bind(this, item)} data-toggle=\"modal\" data-target=\".bd-example-modal-lg\"><i class=\"fa fa-eye\" aria-hidden=\"true\"></i>&nbsp; &nbsp; Details</button>\n          </td> */}\n                                </tr>\n                              );\n                            }, this)\n                          ) : (\n                            <span>Data is loading....</span>\n                          )}\n                        </tbody>\n                      </table>\n                      {/* details modal here */}\n                      <div\n                        class=\"modal fade bd-example-modal-lg\"\n                        tabindex=\"-1\"\n                        role=\"dialog\"\n                        aria-labelledby=\"myLargeModalLabel\"\n                        aria-hidden=\"true\"\n                      >\n                        <div class=\"modal-dialog modal-lg\">\n                          <div class=\"modal-content\">\n                            <table className=\"table table-hover table-bordered \">\n                              <thead className=\"bg-info custom-thead-color\">\n                                <tr>\n                                  <th scope=\"col\">Name</th>\n                                  <th scope=\"col\">Pin</th>\n                                </tr>\n                              </thead>\n                              <tbody>\n                                {this.state.detailsdata ? (\n                                  this.state.detailsdata.map(function(\n                                    item,\n                                    id\n                                  ) {\n                                    return (\n                                      <tr key={id}>\n                                        <th scope=\"row\"> {item.zone_name}</th>\n                                        <td>{item.pin}</td>\n                                      </tr>\n                                    );\n                                  },\n                                  this)\n                                ) : (\n                                  <span>Data is loading....</span>\n                                )}\n                              </tbody>\n                            </table>\n                            <div class=\"modal-footer\">\n                              <button\n                                type=\"button\"\n                                class=\"btn btn-secondary\"\n                                data-dismiss=\"modal\"\n                              >\n                                Close\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\nexport default ViewZone;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/src/components/reports/BatchView.js\";\nimport React, { Component } from \"react\";\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./BatchView.css\";\nimport * as jwt from \"jsonwebtoken\";\nimport authService from \"../../services/auth-service\";\nimport axiosService from \"../../services/axios-service\";\nimport { API_URL } from \"../../services/url\";\n\nvar BatchView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(BatchView, _Component);\n\n  function BatchView(props) {\n    var _this;\n\n    _classCallCheck(this, BatchView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BatchView).call(this, props));\n\n    _this.submit =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var tokenvalue, req, body, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                _context.prev = 1;\n                tokenvalue = localStorage.getItem(\"token\");\n                body = {\n                  productionDate: _this.state.dat,\n                  orgName: \"BG1\"\n                };\n                _context.next = 6;\n                return axios.post(\"\".concat(API_URL, \"report\"), body, axios.defaults.headers.common[\"x-access-token\"] = tokenvalue);\n\n              case 6:\n                response = _context.sent;\n                console.log(response);\n\n                if (response.statusText === \"OK\") {\n                  _this.setState({\n                    arr: response.data\n                  }, function () {\n                    console.log(this.state.arr);\n                  });\n                } else {\n                  alert(response.statusText);\n                }\n\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](1);\n                console.log(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 11]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      dat: \"\",\n      arr: [0]\n    }; //this.handleChange = this.handleChange.bind(this);\n\n    return _this;\n  }\n\n  _createClass(BatchView, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var d = Date.parse(event.target.value);\n      var today = new Date();\n      var date = Date.parse(today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate());\n      if (d > date) alert(\"Enter valid Date\");else {\n        this.setState({\n          dat: event.target.value\n        }, function () {\n          console.log(this.state.dat);\n        });\n      }\n    }\n  }, {\n    key: \"Foo\",\n    value: function Foo() {\n      if (this.state.date !== \"\" && this.state.arr[0] !== 0) {\n        if (this.state.arr.length === 0) return React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"No data\");\n        var x = [];\n        this.state.arr.map(function (d, i) {\n          var y = [];\n          d.Components.map(function (e, ii) {\n            y.push(React.createElement(\"tr\", {\n              key: ii,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 71\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 72\n              },\n              __self: this\n            }, \" \", e.compcode, \" \"), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 73\n              },\n              __self: this\n            }, \" \", e.Lquantity, \" KG \"), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 74\n              },\n              __self: this\n            }, \" \", e.Bquantity, \" \"), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75\n              },\n              __self: this\n            }, \" \", e.variance, \" \")));\n          });\n          if (d.Components.length === 0) x.push(React.createElement(\"div\", {\n            className: \"text-center custom-table\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }, \"FG CODE: \"), \" \", d.FG_CODE, \" \", \"\\xA0\\xA0\\xA0\\xA0\\xA0\", React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, \"Batch Number: \"), \" \", d.BATCH_NUMBER, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }), React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, \"Total Variance: \"), \" \", d.TotalVariance, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            className: \"text-danger\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }, \"No data available.\")));else x.push(React.createElement(React.Fragment, {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"custom-table\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, \"FG CODE: \"), \" \", d.FG_CODE, \" \", \"\\xA0\\xA0\\xA0\\xA0\\xA0\", React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, \"Batch Number: \"), \" \", d.BATCH_NUMBER, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }), React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, \"Total Variance: \"), \" \", d.TotalVariance), React.createElement(\"table\", {\n            className: \"table table-sm\",\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }, React.createElement(\"thead\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }, React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104\n            },\n            __self: this\n          }, React.createElement(\"th\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105\n            },\n            __self: this\n          }, \"COMPCODE\"), React.createElement(\"th\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106\n            },\n            __self: this\n          }, \"LQuantity\"), React.createElement(\"th\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, \"BQuantity\"), React.createElement(\"th\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, \"Variance\"))), React.createElement(\"tbody\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, y)))));\n        });\n        return x;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"skin-blue fixed-layout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row page-titles\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-5 align-self-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        \"aria-label\": \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"ol\", {\n        class: \"breadcrumb\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"breadcrumb-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: process.env.PUBLIC_URL + \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Home\")), React.createElement(\"li\", {\n        className: \"breadcrumb-item active\",\n        \"aria-current\": \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"BatchView\")))))), React.createElement(\"div\", {\n        className: \"product-form-upper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"below-custom-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Date: \"), \" \\xA0\", React.createElement(\"input\", {\n        type: \"date\",\n        className: \"form-control\",\n        value: this.date,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-primary mt-3\",\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Submit\")), React.createElement(\"div\", {\n        className: \"col-md-12 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, this.state.dat === \"\" ? \"Select a Date\" : this.Foo()))))))));\n    }\n  }]);\n\n  return BatchView;\n}(Component);\n\nexport default BatchView;","map":{"version":3,"sources":["/Users/chitranshagnihotri/Downloads/RDC-Concrete-master/src/components/reports/BatchView.js"],"names":["React","Component","Link","Redirect","withRouter","axios","jwt","authService","axiosService","API_URL","BatchView","props","submit","e","preventDefault","tokenvalue","localStorage","getItem","body","productionDate","state","dat","orgName","post","defaults","headers","common","response","console","log","statusText","setState","arr","data","alert","event","d","Date","parse","target","value","today","date","getFullYear","getMonth","getDate","length","x","map","i","y","Components","ii","push","compcode","Lquantity","Bquantity","variance","FG_CODE","BATCH_NUMBER","TotalVariance","process","env","PUBLIC_URL","handleChange","Foo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./BatchView.css\";\nimport * as jwt from \"jsonwebtoken\";\n\nimport authService from \"../../services/auth-service\";\nimport axiosService from \"../../services/axios-service\";\nimport { API_URL } from \"../../services/url\";\n\nclass BatchView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dat: \"\",\n      arr: [0]\n    };\n    //this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    let d = Date.parse(event.target.value);\n    var today = new Date();\n    var date = Date.parse(\n      today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate()\n    );\n    if (d > date) alert(\"Enter valid Date\");\n    else {\n      this.setState({ dat: event.target.value }, function() {\n        console.log(this.state.dat);\n      });\n    }\n  }\n\n  submit = async e => {\n    e.preventDefault();\n    try {\n      let tokenvalue = localStorage.getItem(\"token\");\n      let req;\n      let body = {\n        productionDate: this.state.dat,\n        orgName: \"BG1\"\n      };\n      const response = await axios.post(\n        `${API_URL}report`,\n        body,\n\n        (axios.defaults.headers.common[\"x-access-token\"] = tokenvalue)\n      );\n      console.log(response);\n      if (response.statusText === \"OK\") {\n        this.setState({ arr: response.data }, function() {\n          console.log(this.state.arr);\n        });\n      } else {\n        alert(response.statusText);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  Foo() {\n    if (this.state.date !== \"\" && this.state.arr[0] !== 0) {\n      if (this.state.arr.length === 0) return <h2>No data</h2>;\n      let x = [];\n      this.state.arr.map((d, i) => {\n        let y = [];\n        d.Components.map((e, ii) => {\n          y.push(\n            <tr key={ii}>\n              <td> {e.compcode} </td>\n              <td> {e.Lquantity} KG </td>\n              <td> {e.Bquantity} </td>\n              <td> {e.variance} </td>\n            </tr>\n          );\n        });\n        if (d.Components.length === 0)\n          x.push(\n            <div className=\"text-center custom-table\">\n              <label>FG CODE: </label> {d.FG_CODE}{\" \"}\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n              <label>Batch Number: </label> {d.BATCH_NUMBER}\n              <br></br>\n              <label>Total Variance: </label> {d.TotalVariance}\n              <br></br>\n              <p className=\"text-danger\">No data available.</p>\n            </div>\n          );\n        else\n          x.push(\n            <React.Fragment key={i}>\n              <div className=\"custom-table\">\n                <div className=\"text-center\">\n                  <label>FG CODE: </label> {d.FG_CODE}{\" \"}\n                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                  <label>Batch Number: </label> {d.BATCH_NUMBER}\n                  <br></br>\n                  <label>Total Variance: </label> {d.TotalVariance}\n                </div>\n                <table className=\"table table-sm\" key={i}>\n                  <thead>\n                    <tr>\n                      <th>COMPCODE</th>\n                      <th>LQuantity</th>\n                      <th>BQuantity</th>\n                      <th>Variance</th>\n                    </tr>\n                  </thead>\n                  <tbody>{y}</tbody>\n                </table>\n              </div>\n            </React.Fragment>\n          );\n      });\n      return x;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"skin-blue fixed-layout\">\n        <div className=\"page-wrapper\">\n          <div className=\"container-fluid\">\n            <div className=\"row page-titles\">\n              <div className=\"col-md-5 align-self-center\">\n                {/* <h4 className=\"text-themecolor\">Forms</h4> */}\n                <nav aria-label=\"breadcrumb\">\n                  <ol class=\"breadcrumb\">\n                    <li className=\"breadcrumb-item\">\n                      <Link to={process.env.PUBLIC_URL + \"/\"}>Home</Link>\n                    </li>\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                      BatchView\n                    </li>\n                  </ol>\n                </nav>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"product-form-upper\">\n            <div className=\"container-fluid\">\n              <div className=\"below-custom-form\">\n                <div className=\"container\">\n                  <div className=\"row\">\n                    <div className=\"col-md-12\">\n                      <label>Date: </label> &nbsp;\n                      <input\n                        type=\"date\"\n                        className=\"form-control\"\n                        value={this.date}\n                        onChange={e => this.handleChange(e)}\n                      ></input>\n                      <br></br>\n                      <button\n                        className=\"btn btn-primary mt-3\"\n                        onClick={this.submit}\n                      >\n                        Submit\n                      </button>\n                    </div>\n                    {/* <div class=\"form-group col-md-6\">\n                      <label>abc:</label>\n                      <div class=\"col-sm-12\">\n                        <select\n                          className=\"form-control\"\n                          onChange={e => this.change(e)}\n                          value={this.state.sample_location}\n                          name=\"sample_location\"\n                        >\n                          <option value=\"None\">Choose...</option>\n                          <option value=\"Truck\">abc</option>\n                          <option value=\"Bin\">abc</option>\n                        </select>\n                      </div>\n                    </div> */}\n\n                    <div className=\"col-md-12 text-center\">\n                      {this.state.dat === \"\" ? \"Select a Date\" : this.Foo()}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default BatchView;\n"]},"metadata":{},"sourceType":"module"}